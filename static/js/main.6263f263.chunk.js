(this["webpackJsonponline-burger-order"]=this["webpackJsonponline-burger-order"]||[]).push([[0],[,,,,,,,,function(e,t,r){e.exports={BreadTop:"style_BreadTop__qNPQH",Seed:"style_Seed__g8mQN",Second:"style_Second__1XWoi",Third:"style_Third__1M52G",Forth:"style_Forth__24XdZ",Salad:"style_Salad__1uggn",Meat:"style_Meat__BsUnv",Bacon:"style_Bacon__1xyvV",Cheese:"style_Cheese__KBDFG",BreadBottom:"style_BreadBottom__FCCfh"}},,,,,,,,,function(e,t,r){e.exports={SideBar:"style_SideBar__3Fxy4",Open:"style_Open__JOCO6",Close:"style_Close__2u_KA",Logo:"style_Logo__2dQla"}},,,function(e,t,r){e.exports={BuildControl:"style_BuildControl__3BhyS",Label:"style_Label__39RZZ",Less:"style_Less__4pPzc",More:"style_More__3Lhfa"}},,,,,,function(e,t,r){e.exports={Toolbar:"style_Toolbar__1OrKd",HideOnMobile:"style_HideOnMobile__1667R"}},function(e,t,r){e.exports={MenuItem:"style_MenuItem__3Ak_r",active:"style_active__2nyKX"}},,,function(e,t,r){e.exports={Burger:"style_Burger__1iUbA",Paragraph:"style_Paragraph__3I02T"}},function(e,t,r){e.exports={BuildControls:"style_BuildControls__1guRM",OrderButton:"style_OrderButton__onKG5",enable:"style_enable__gixzu"}},function(e,t,r){e.exports={Button:"style_Button__MByr0",Success:"style_Success__2BOaN",Danger:"style_Danger__eWhzx"}},,,,,,,,,,,function(e,t,r){e.exports={Content:"style_Content__kSJBd"}},function(e,t,r){e.exports={Logo:"style_Logo__3VKvP"}},function(e,t,r){e.exports={Menu:"style_Menu__2F48n"}},function(e,t,r){e.exports={HamburgerMenu:"style_HamburgerMenu__1RVJq"}},function(e,t,r){e.exports={Shadow:"style_Shadow__RE1ch"}},function(e,t,r){e.exports={Modal:"style_Modal__2bWtH"}},function(e,t,r){e.exports={Loader:"style_Loader__388yk",load1:"style_load1__3uXNM"}},function(e,t,r){e.exports={Order:"style_Order__Vb7em"}},function(e,t,r){e.exports={ContactData:"style_ContactData__2clPq"}},function(e,t,r){e.exports={ShippingPage:"style_ShippingPage__11Jr6"}},function(e,t,r){e.exports={LoginPage:"style_LoginPage__2F98X"}},function(e,t,r){e.exports={SignupPage:"style_SignupPage__2ksIx"}},,,,,,,function(e,t,r){},,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";r.r(t);var n=r(0),c=r(1),s=r.n(c),o=r(21),a=r.n(o),i=(r(61),r(6)),u=r(4),d=r(43),l=r.n(d),j=r(26),b=r.n(j),O=r(44),g=r.n(O),p=r.p+"static/media/burger-logo.ec69c7f6.png",h=function(){return Object(n.jsx)("div",{className:g.a.Logo,children:Object(n.jsx)("img",{src:p})})},f=r(45),_=r.n(f),x=r(27),S=r.n(x),m=r(13),y=function(e){return Object(n.jsx)("li",{className:S.a.MenuItem,children:Object(n.jsx)(m.b,{exact:e.exact,activeClassName:S.a.active,to:e.link,children:e.children})})},R=Object(u.b)((function(e){return{userId:e.signupLoginReducer.userId}}))((function(e){return Object(n.jsx)("ul",{className:_.a.Menu,children:e.userId?Object(n.jsxs)(c.Fragment,{children:[Object(n.jsx)(y,{link:"/logout",children:" \u0413\u0410\u0420\u0410\u0425 "}),Object(n.jsx)(y,{exact:!0,link:"/",children:"\u0428\u0418\u041d\u042d \u0417\u0410\u0425\u0418\u0410\u041b\u0413\u0410"}),Object(n.jsx)(y,{link:"/orders",children:"\u0417\u0410\u0425\u0418\u0410\u041b\u0413\u0410\u041d\u0423\u0423\u0414"})]}):Object(n.jsxs)(c.Fragment,{children:[Object(n.jsx)(y,{link:"/login",children:"\u041d\u042d\u0412\u0422\u0420\u042d\u0425"}),Object(n.jsx)(y,{link:"/signup",children:"\u0411\u04af\u0440\u0442\u0433\u04af\u04af\u043b\u044d\u0445".toUpperCase()})]})})})),v=r(46),E=r.n(v),I=function(e){return Object(n.jsxs)("div",{onClick:e.toggleSideBar,className:E.a.HamburgerMenu,children:[Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{})]})},N=function(e){return Object(n.jsxs)("header",{className:b.a.Toolbar,children:[Object(n.jsx)(I,{toggleSideBar:e.toggleSideBar}),Object(n.jsx)(h,{}),Object(n.jsx)("nav",{className:b.a.HideOnMobile,children:Object(n.jsx)(R,{})})]})},C=r(8),B=r.n(C),L=function(e){return"bread-top"===e.type?Object(n.jsxs)("div",{className:B.a.BreadTop,children:[Object(n.jsx)("div",{className:B.a.Seed}),Object(n.jsx)("div",{className:"".concat(B.a.Seed," ").concat(B.a.Second)}),Object(n.jsx)("div",{className:"".concat(B.a.Seed," ").concat(B.a.Third)}),Object(n.jsx)("div",{className:"".concat(B.a.Seed," ").concat(B.a.Forth)})]}):"salad"===e.type?Object(n.jsx)("div",{className:B.a.Salad}):"bacon"===e.type?Object(n.jsx)("div",{className:B.a.Bacon}):"meat"===e.type?Object(n.jsx)("div",{className:B.a.Meat}):"cheese"===e.type?Object(n.jsx)("div",{className:B.a.Cheese}):"bread-bottom"===e.type?Object(n.jsx)("div",{className:B.a.BreadBottom}):Object(n.jsx)("div",{children:"..."})},T=r(5),w=r(30),k=r.n(w),D=Object(u.b)((function(e){return{orts:e.burgerReducer.ingredients}}),(function(e){return{}}))(Object(T.g)((function(e){var t=[];return Object.entries(e.orts).map((function(e){for(var r=0;r<e[1];r++)t.push(Object(n.jsx)(L,{type:e[0]},"".concat(e).concat(r+1)))})),0===t.length&&(t=Object(n.jsx)("p",{className:k.a.Paragraph,children:"\u0445\u0430\u0447\u0438\u0440\u0442\u0430\u0439 \u0442\u0430\u043b\u0445\u043d\u044b\u0445\u0430\u0430 \u043e\u0440\u0446\u044b\u0433 \u0441\u043e\u043d\u0433\u043e\u043d\u043e \u0443\u0443..."})),Object(n.jsxs)("div",{className:k.a.Burger,children:[Object(n.jsx)(L,{type:"bread-top"}),t,Object(n.jsx)(L,{type:"bread-bottom"})]})}))),M=r(2),U=r(20),A=r.n(U),P=function(e){return Object(n.jsxs)("div",{className:A.a.BuildControl,children:[Object(n.jsx)("div",{className:A.a.Label,children:e.orts}),Object(n.jsx)("button",{onClick:function(){return e.ortsHasah(e.type)},disabled:e.disabledIngredients[e.type],className:A.a.Less,children:"\u0445\u0430\u0441\u0430\u0445"}),Object(n.jsx)("button",{onClick:function(){return e.ortsNemeh(e.type)},className:A.a.More,children:"\u043d\u044d\u043c\u044d\u0445"})]})},G=r(31),F=r.n(G),H=Object(u.b)((function(e){return{price:e.burgerReducer.totalPrice,purchasing:e.burgerReducer.purchasing,ingredientNames:e.burgerReducer.ingredientNames,ingredients:e.burgerReducer.ingredients}}),(function(e){return{ortsNemeh:function(t){return e(function(e){return{type:"ADD_INGREDIENT",ortsNer:e}}(t))},ortsHasah:function(t){return e(function(e){return{type:"REMOVE_INGREDIENT",ortsNer:e}}(t))}}}))((function(e){var t=Object(M.a)({},e.ingredients);for(var r in t)t[r]=t[r]<=0;return Object(n.jsxs)("div",{className:F.a.BuildControls,children:[Object(n.jsxs)("p",{children:["\u0411\u0443\u0440\u0433\u0435\u0440\u0438\u0439\u043d \u04af\u043d\u044d: ",Object(n.jsx)("strong",{children:e.price})]}),Object.keys(e.ingredientNames).map((function(r){return Object(n.jsx)(P,{disabledIngredients:t,ortsNemeh:e.ortsNemeh,ortsHasah:e.ortsHasah,type:r,orts:e.ingredientNames[r]},r)})),Object(n.jsx)("button",{className:F.a.OrderButton,disabled:!e.purchasing,onClick:e.showConfirmModal,children:"\u0417\u0430\u0445\u0438\u0430\u043b\u0430\u0445"})]})})),V=r(47),z=r.n(V),X=function(e){return e.show?Object(n.jsx)("div",{className:z.a.Shadow,onClick:e.onClick}):null},W=r(48),q=r.n(W),J=function(e){return Object(n.jsxs)("div",{children:[Object(n.jsx)(X,{show:e.show,onClick:e.closeConfirmModal}),Object(n.jsx)("div",{style:{transform:e.show?"translateY(0)":"translateY(-100vh)",opacity:e.show?"1":"0"},className:q.a.Modal,children:e.children})]})},K=r(32),Q=r.n(K),Z=function(e){return Object(n.jsx)("button",{className:"".concat(Q.a.Button," ").concat(Q.a[e.ButtonType]),onClick:e.daragdsan,children:e.text})},Y=Object(u.b)((function(e){return{ingredients:e.burgerReducer.ingredients,ingredientNames:e.burgerReducer.ingredientNames,price:e.burgerReducer.totalPrice}}))((function(e){var t=e.ingredientNames;return Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:"\u0422\u0430\u043d\u044b \u0437\u0430\u0445\u0438\u0430\u043b\u0433\u0430"}),Object(n.jsx)("p",{children:"\u0422\u0430\u043d\u044b \u0441\u043e\u043d\u0433\u043e\u0441\u043e\u043d \u043e\u0440\u0446\u0443\u0443\u0434:"}),Object(n.jsx)("ul",{children:Object.keys(t).map((function(t){return Object(n.jsxs)("li",{children:[e.ingredientNames[t],": ",e.ingredients[t]]},t)}))}),Object(n.jsxs)("p",{children:["\u0417\u0430\u0445\u0438\u0430\u043b\u0433\u044b\u043d \u0434\u04af\u043d: ",Object(n.jsxs)("strong",{children:[e.price,"\u20ae"]})]}),Object(n.jsx)("p",{children:"\u0426\u0430\u0430\u0448\u0430\u0430 \u04af\u0440\u0433\u044d\u043b\u0436\u043b\u04af\u04af\u043b\u044d\u0445 \u04af\u04af?"}),Object(n.jsx)(Z,{text:"\u0422\u0430\u0442\u0433\u0430\u043b\u0437\u0430\u0445",ButtonType:"Danger",daragdsan:e.onCancel},e.onCancel),Object(n.jsx)(Z,{text:"\u04ae\u0440\u0433\u044d\u043b\u0436\u043b\u04af\u04af\u043b\u044d\u0445",ButtonType:"Success",daragdsan:e.onContinue},e.onContinue)]})})),$=r(16),ee=r.n($),te=ee.a.create({baseURL:"https://burgerx-3dbfe.firebaseio.com/"}),re=r(49),ne=r.n(re),ce=function(){return Object(n.jsx)("div",{className:ne.a.Loader})},se=function(e){var t=Object(c.useState)(!1),r=Object(i.a)(t,2),s=r[0],o=r[1],a=function(){o(!1)};return Object(n.jsxs)("div",{children:[Object(n.jsx)(J,{show:s,closeConfirmModal:a,children:Object(n.jsx)(Y,{onCancel:a,onContinue:function(){e.history.push({pathname:"/ship"}),a()},ingredients:e.burgeriinOrts,ingredientNames:e.ingredientNames,price:e.niitUne})}),Object(n.jsx)(D,{}),Object(n.jsx)(H,{disabledButton:!e.purchasing,showConfirmModal:function(){o(!0)},closeConfirmModal:a})]})},oe=r(17),ae=r.n(oe),ie=function(e){var t=[ae.a.SideBar,ae.a.Close];return e.showSideBar&&(t=[ae.a.SideBar,ae.a.Open]),Object(n.jsxs)("div",{children:[Object(n.jsx)(X,{show:e.showSideBar,onClick:e.toggleSideBar}),Object(n.jsxs)("div",{className:t.join(" "),onClick:e.toggleSideBar,children:[Object(n.jsx)("div",{className:ae.a.Logo,children:Object(n.jsx)(h,{})}),Object(n.jsx)(R,{})]})]})},ue=r(50),de=r.n(ue),le=function(e){return Object(n.jsxs)("div",{className:de.a.Order,children:[Object(n.jsxs)("p",{children:["\u04ae\u0439\u043b\u0447\u043b\u04af\u04af\u043b\u044d\u0433\u0447\u0438\u0439\u043d \u043d\u044d\u0440: ",e.order.hayag.name]}),Object(n.jsxs)("p",{children:["\u041e\u0440\u0446: \u0413\u0430\u0445\u0430\u0439\u043d \u041c\u0430\u0445:",e.order.orts.bacon,", \u0421\u0430\u043b\u0430\u0434:",e.order.orts.salad,", \u04ae\u0445\u0440\u0438\u0439\u043d \u041c\u0430\u0445:",e.order.orts.meat,", \u0411\u044f\u0441\u043b\u0430\u0433:",e.order.orts.cheese]}),Object(n.jsxs)("p",{children:["\u0425\u0430\u044f\u0433: ",e.order.hayag.city," \u0445\u043e\u0442, ",e.order.hayag.street]}),Object(n.jsxs)("p",{children:["\u04ae\u043d\u0438\u0439\u043d \u0434\u04af\u043d: ",Object(n.jsxs)("strong",{children:[e.order.dun,"\u20ae"]})]})]})},je=function(){return{type:"LOAD_ORDERS_START"}},be=function(e){return{type:"LOAD_ORDERS_SUCCESS",orders:e}},Oe=function(e){return{type:"LOAD_ORDERS_ERROR",error:e}},ge=function(e){return{type:"SAVE_ORDER_START"}},pe=function(e){return{type:"SAVE_ORDER_SUCCESS"}},he=function(e){return{type:"SAVE_ORDER_ERROR",error:e}},fe=Object(u.b)((function(e){return{orders:e.orderReducer.orders,loading:e.orderReducer.loading,userId:e.signupLoginReducer.userId}}),(function(e){return{loadOrders:function(t){return e((function(e,t){e(je());var r=t().signupLoginReducer.token,n=t().signupLoginReducer.userId;te.get("/orders.json?auth=".concat(r,'&orderBy="userId"&equalTo="').concat(n,'"')).then((function(t){var r=Object.entries(t.data).reverse();e(be(r))})).catch((function(t){return e(Oe(t))}))}))}}}))((function(e){return Object(c.useEffect)((function(){e.loadOrders(e.userId)}),[]),Object(n.jsx)("div",{children:e.loading?Object(n.jsx)(ce,{}):e.orders.map((function(e){return Object(n.jsx)(le,{order:e[1]},e[0])}))})})),_e=r(51),xe=r.n(_e),Se=Object(u.b)((function(e){return{price:e.burgerReducer.totalPrice,ingredients:e.burgerReducer.ingredients,newOrderStatus:e.orderReducer.newOrder,userId:e.signupLoginReducer.userId}}),(function(e){return{saveOrderAction:function(t){return e(function(e){return function(t,r){t(ge());var n=r().signupLoginReducer.token;te.post("/orders.json?auth=".concat(n),e).then((function(e){t(pe())})).catch((function(e){t(he(e))}))}}(t))},clearOrder:function(){return e({type:"CLEAR_ORDER"})}}}))(Object(T.g)((function(e){var t=Object(c.useState)(),r=Object(i.a)(t,2),s=r[0],o=r[1],a=Object(c.useState)(),u=Object(i.a)(a,2),d=u[0],l=u[1],j=Object(c.useState)(),b=Object(i.a)(j,2),O=b[0],g=b[1];Object(c.useEffect)((function(){return e.newOrderStatus.finished&&!e.newOrderStatus.error&&e.history.replace("/orders"),function(){e.newOrderStatus.finished&&e.clearOrder()}}),[e.newOrderStatus.finished]);return Object(n.jsxs)("div",{className:xe.a.ContactData,children:[Object(n.jsx)("div",{children:e.newOrderStatus.error&&"\u0417\u0430\u0445\u0438\u0430\u043b\u0433\u044b\u0433 \u0445\u0430\u0434\u0433\u0430\u043b\u0430\u0445 \u044f\u0432\u0446\u0430\u0434 \u0430\u043b\u0434\u0430\u0430 \u0433\u0430\u0440\u043b\u0430\u0430 : ".concat(e.newOrderStatus.error)}),e.newOrderStatus.saving?Object(n.jsx)(ce,{}):Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{onChange:function(e){o(e.target.value)},type:"text",name:"name",placeholder:"\u0422\u0430\u043d\u044b \u043d\u044d\u0440"}),Object(n.jsx)("input",{onChange:function(e){g(e.target.value)},type:"text",name:"street",placeholder:"\u0422\u0430\u043d\u044b \u0433\u044d\u0440\u0438\u0439\u043d \u0445\u0430\u044f\u0433"}),Object(n.jsx)("input",{onChange:function(e){l(e.target.value)},type:"text",name:"city",placeholder:"\u0422\u0430\u043d\u044b \u043e\u0440\u0448\u0438\u043d \u0441\u0443\u0443\u0433\u0430\u0430 \u0445\u043e\u0442"}),Object(n.jsx)(Z,{text:"\u0418\u041b\u0413\u042d\u042d\u0425",ButtonType:"Success",daragdsan:function(){var t={userId:e.userId,orts:e.ingredients,dun:e.price,hayag:{name:s,city:d,street:O}};e.saveOrderAction(t)}})]})]})}))),me=r(52),ye=r.n(me),Re=Object(u.b)((function(e){return{price:e.burgerReducer.totalPrice}}))((function(e){return Object(n.jsxs)("div",{className:ye.a.ShippingPage,children:[Object(n.jsx)("p",{children:Object(n.jsx)("strong",{children:"\u0422\u0430\u043d\u044b \u0437\u0430\u0445\u0438\u0430\u043b\u0433\u0430 \u0430\u043c\u0442\u0442\u0430\u0439 \u0431\u0430\u0439\u043d\u0430 \u0433\u044d\u0436 \u043d\u0430\u0439\u0434\u0430\u0436 \u0431\u0430\u0439\u043d\u0430..."})}),Object(n.jsx)("p",{children:Object(n.jsxs)("strong",{children:["\u0414\u04af\u043d: ",e.price,"\u20ae"]})}),Object(n.jsx)(D,{}),Object(n.jsx)(Z,{daragdsan:function(){e.history.goBack()},ButtonType:"Danger",text:"\u0417\u0410\u0425\u0418\u0410\u041b\u0413\u042b\u0413 \u0426\u0423\u0426\u041b\u0410\u0425"}),Object(n.jsx)(Z,{daragdsan:function(){e.history.replace("/ship/contact")},ButtonType:"Success",text:"\u0425\u04ae\u0420\u0413\u042d\u041b\u0422\u0418\u0419\u041d \u041c\u042d\u0414\u042d\u042d\u041b\u042d\u041b\u042d\u042d \u041e\u0420\u0423\u0423\u041b\u0410\u0425"}),Object(n.jsx)(T.b,{path:"/ship/contact",children:Object(n.jsx)(Se,{})})]})})),ve=function(){return{type:"SIGNUP_USER_START"}},Ee=function(e,t){return{type:"SIGNUP_USER_SUCCESS",token:e,userId:t}},Ie=function(e){return{type:"SIGNUP_USER_ERROR",error:e}},Ne=function(){return localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("expireDate"),localStorage.removeItem("refreshToken"),{type:"LOGOUT"}},Ce=function(e){return function(t){setTimeout((function(){t(Ne())}),e)}},Be=Object(u.b)(null,(function(e){return{logout:function(){return e(Ne())}}}))((function(e){return Object(c.useEffect)((function(){e.logout()}),[]),Object(n.jsx)(T.a,{to:"/login"})})),Le=r(53),Te=r.n(Le),we=function(){return{type:"LOGIN_USER_START"}},ke=function(e,t){return{type:"LOGIN_USER_SUCCESS",token:e,userId:t}},De=function(e){return{type:"LOGIN_USER_ERROR",error:e}},Me=Object(u.b)((function(e){return{logginIn:e.signupLoginReducer.logginIn,firebaseError:e.signupLoginReducer.firebaseError,firebaseErrorCode:e.signupLoginReducer.firebaseErrorCode,userId:e.signupLoginReducer.userId}}),(function(e){return{login:function(t,r){return e(function(e,t){return function(r){r(we());var n={email:e,password:t,returnSecureToken:!0};ee.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyBozzbd77FsqTeO0QkBdmp_roGXNEHo468",n).then((function(e){var t=e.data.idToken,n=e.data.localId,c=e.data.expiresIn;console.log(c);var s=(new Date).getTime()+c,o=e.data.refreshToken;localStorage.setItem("token",t),localStorage.setItem("userId",n),localStorage.setItem("expireDate",s),localStorage.setItem("refreshToken",o),r(ke(t,n)),r(Ce(1e3*c))})).catch((function(e){r(De(e))}))}}(t,r))}}}))((function(e){var t=Object(c.useState)({email:{},password:{}}),r=Object(i.a)(t,2),s=r[0],o=r[1];return Object(n.jsxs)("div",{className:Te.a.LoginPage,children:[e.userId&&Object(n.jsx)(T.a,{to:"/orders"}),Object(n.jsx)("input",{onChange:function(e){var t=e.target.value;o((function(e){return{email:t,password:e.password}}))},name:"email",type:"text",placeholder:"\u0418\u043c\u0430\u0439\u043b \u0445\u0430\u044f\u0433"}),Object(n.jsx)("input",{onChange:function(e){var t=e.target.value;o((function(e){return{email:e.email,password:t}}))},name:"password",type:"password",placeholder:"\u041d\u0443\u0443\u0446 \u04af\u0433"}),e.logginIn&&Object(n.jsx)(ce,{}),e.firebaseError&&Object(n.jsx)("div",{style:{color:"red"},children:400===e.firebaseErrorCode&&"\u041d\u0443\u0443\u0446 \u04af\u0433 \u0431\u0443\u0440\u0443\u0443 \u0431\u0430\u0439\u043d\u0430!!!"}),Object(n.jsx)(Z,{text:"\u041b\u043e\u0433\u0438\u043d",ButtonType:"Success",daragdsan:function(){e.login(s.email,s.password)}})]})})),Ue=r(54),Ae=r.n(Ue),Pe=Object(u.b)((function(e){return{saving:e.signupLoginReducer.saving,firebaseError:e.signupLoginReducer.firebaseError,userId:e.signupLoginReducer.userId}}),(function(e){return{signupUser:function(t,r){return e(function(e,t){return function(r){r(ve());var n={email:e,password:t,returnSecureToken:!0};ee.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyBozzbd77FsqTeO0QkBdmp_roGXNEHo468",n).then((function(e){var t=e.data.idToken,n=e.data.localId;localStorage.setItem("token",t),localStorage.setItem("userId",n),r(Ee(t,n))})).catch((function(e){r(Ie(e))}))}}(t,r))}}}))((function(e){var t=Object(c.useState)(""),r=Object(i.a)(t,2),s=r[0],o=r[1],a=Object(c.useState)(""),u=Object(i.a)(a,2),d=u[0],l=u[1],j=Object(c.useState)(""),b=Object(i.a)(j,2),O=b[0],g=b[1],p=Object(c.useState)(""),h=Object(i.a)(p,2),f=(h[0],h[1]);return console.log(e.userId),Object(n.jsxs)("div",{className:Ae.a.SignupPage,children:[e.userId&&Object(n.jsx)(T.a,{to:"/"}),Object(n.jsx)("h1",{children:"\u0411\u04af\u0440\u0442\u0433\u044d\u043b\u0438\u0439\u043d \u0444\u043e\u0440\u0443\u043c"}),Object(n.jsx)("div",{children:"\u0422\u0430 \u04e9\u04e9\u0440\u0438\u0439\u043d \u043c\u044d\u0434\u044d\u044d\u043b\u043b\u044d\u044d \u043e\u0440\u0443\u0443\u043b\u0430\u043d\u0430 \u0443\u0443"}),Object(n.jsx)("input",{onChange:function(e){o(e.target.value)},name:"email",type:"text",placeholder:"\u0418\u043c\u0430\u0439\u043b \u0445\u0430\u044f\u0433"}),Object(n.jsx)("input",{onChange:function(e){l(e.target.value)},name:"password",type:"password",placeholder:"\u041d\u0443\u0443\u0446 \u04af\u0433\u044d\u044d \u043e\u0440\u0443\u0443\u043b\u0430\u043d\u0430 \u0443\u0443"}),Object(n.jsx)("input",{onChange:function(e){g(e.target.value)},name:"password",type:"password",placeholder:"\u041d\u0443\u0443\u0446 \u04af\u0433\u044d\u044d \u0434\u0430\u0432\u0442\u0430\u043d \u043e\u0440\u0443\u0443\u043b\u0430\u043d\u0430 \u0443\u0443"}),e.saving&&Object(n.jsx)(ce,{}),e.firebaseError&&Object(n.jsx)("div",{children:e.firebaseError}),e.firebaseError&&Object(n.jsx)("div",{style:{color:"red",fontWeight:"bold"},children:e.firebaseError}),Object(n.jsx)(Z,{text:"\u0411\u04af\u0440\u0442\u0433\u04af\u04af\u043b\u044d\u0445".toUpperCase(),ButtonType:"Success",daragdsan:function(){d===O?e.signupUser(s,d):f("\u041d\u0443\u0443\u0446 \u04af\u0433\u0441 \u0445\u043e\u043e\u0440\u043e\u043d\u0434\u043e\u043e \u0442\u0430\u0430\u0440\u0430\u0445\u0433\u04af\u0439 \u0431\u0430\u0439\u043d\u0430!!!!")}})]})})),Ge=Object(u.b)((function(e){return{userId:e.signupLoginReducer.userId}}),(function(e){return{autoLogin:function(t,r){return e(ke(t,r))},logout:function(){return e(Ne())},autoLogoutAfterMillsec:function(t){return e(Ce(t))}}}))((function(e){var t=Object(c.useState)(!1),r=Object(i.a)(t,2),s=r[0],o=r[1];Object(c.useEffect)((function(){var t=localStorage.getItem("token"),r=localStorage.getItem("userId"),n=localStorage.getItem("expireDate"),c=(localStorage.getItem("refreshToken"),new Date);t&&(n>c.getTime()?(e.autoLogin(t,r),e.autoLogoutAfterMillsec(n-c.getTime())):e.logout())}));var a=function(){o((function(e){return!e}))};return Object(n.jsxs)("div",{children:[Object(n.jsx)(N,{toggleSideBar:a}),Object(n.jsx)(ie,{toggleSideBar:a,showSideBar:s}),Object(n.jsx)("main",{className:l.a.Content,children:e.userId?Object(n.jsxs)(T.d,{children:[Object(n.jsx)(T.b,{path:"/orders",component:fe}),Object(n.jsx)(T.b,{path:"/ship",component:Re}),Object(n.jsx)(T.b,{path:"/logout",component:Be}),Object(n.jsx)(T.b,{path:"/",component:se})]}):Object(n.jsxs)(T.d,{children:[Object(n.jsx)(T.b,{path:"/signup",component:Pe}),Object(n.jsx)(T.b,{path:"/login",component:Me}),Object(n.jsx)(T.a,{to:"/login"})]})})]})})),Fe=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,85)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,o=t.getTTFB;r(e),n(e),c(e),s(e),o(e)}))},He=r(14),Ve=r(55),ze=r(19),Xe={ingredients:{salad:0,cheese:0,bacon:0,meat:0},totalPrice:1e3,purchasing:!1,ingredientNames:{bacon:"\u0413\u0430\u0445\u0430\u0439\u043d M\u0430\u0445",cheese:"\u0411\u044f\u0441\u043b\u0430\u0433",meat:"\u04ae\u0445\u0440\u0438\u0439\u043d M\u0430\u0445",salad:"\u0421\u0430\u043b\u0430\u0434"}},We={salad:150,cheese:250,bacon:800,meat:1500},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0;if("ADD_INGREDIENT"===t.type)return Object(M.a)(Object(M.a)({},e),{},{ingredients:Object(M.a)(Object(M.a)({},e.ingredients),{},Object(ze.a)({},t.ortsNer,e.ingredients[t.ortsNer]+1)),purchasing:!0,totalPrice:e.totalPrice+We[t.ortsNer]});if("REMOVE_INGREDIENT"===t.type){var r=e.totalPrice-We[t.ortsNer];return Object(M.a)(Object(M.a)({},e),{},{ingredients:Object(M.a)(Object(M.a)({},e.ingredients),{},Object(ze.a)({},t.ortsNer,e.ingredients[t.ortsNer]-1)),totalPrice:r,purchasing:r>1e3})}return"CLEAR_ORDER"===t.type?Xe:e},Je={orders:[],loading:!1,error:null,newOrder:{saving:!1,finished:!1,error:null}},Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLEAR_ORDER":return Object(M.a)(Object(M.a)({},e),{},{newOrder:{saving:!1,finished:!1,error:null}});case"LOAD_ORDERS_START":return Object(M.a)(Object(M.a)({},e),{},{loading:!0});case"LOAD_ORDERS_SUCCESS":return Object(M.a)(Object(M.a)({},e),{},{loading:!1,orders:t.orders});case"LOAD_ORDERS_ERROR":return Object(M.a)(Object(M.a)({},e),{},{loading:!1,error:t.error});case"SAVE_ORDER_START":return Object(M.a)(Object(M.a)({},e),{},{newOrder:Object(M.a)(Object(M.a)({},e.newOrder),{},{saving:!0})});case"SAVE_ORDER_SUCCESS":return Object(M.a)(Object(M.a)({},e),{},{newOrder:Object(M.a)(Object(M.a)({},e.newOrder),{},{saving:!1,finished:!0,error:null})});case"SAVE_ORDER_ERROR":return Object(M.a)(Object(M.a)({},e),{},{newOrder:Object(M.a)(Object(M.a)({},e.newOrder),{},{saving:!1,finished:!0,error:t.error})});default:return e}},Qe={saving:!1,logginIn:!1,firebaseError:null,token:null,userId:null},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGNUP_USER_START":return Object(M.a)(Object(M.a)({},e),{},{saving:!0});case"SIGNUP_USER_ERROR":return Object(M.a)(Object(M.a)({},e),{},{saving:!1,firebaseError:t.error.response.data.error.message});case"SIGNUP_USER_SUCCESS":return Object(M.a)(Object(M.a)({},e),{},{saving:!1,token:t.token,userId:t.userId});case"LOGIN_USER_START":return Object(M.a)(Object(M.a)({},e),{},{logginIn:!0});case"LOGIN_USER_ERROR":return Object(M.a)(Object(M.a)({},e),{},{logginIn:!1,firebaseError:t.error.response.data.error.message,firebaseErrorCode:t.error.response.data.error.code});case"LOGIN_USER_SUCCESS":return Object(M.a)(Object(M.a)({},e),{},{logginIn:!1,token:t.token,userId:t.userId,firebaseError:null});case"LOGOUT":return Object(M.a)(Object(M.a)({},e),{},{token:null,userId:null,firebaseError:null,firebaseErrorCode:null});default:return e}},Ye=Object(He.c)({burgerReducer:qe,orderReducer:Ke,signupLoginReducer:Ze}),$e=[function(e){return function(t){return function(r){console.log("MyLoggerMiddleWare: Dispatching ==> ",r),console.log("MyLoggerMiddleWare: State BEFORE ==> ",e.getState());var n=t(r);return console.log("MyLoggerMiddleWare: State AFTER ==> ",e.getState()),n}}},Ve.a],et=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||He.d,tt=Object(He.e)(Ye,et(He.a.apply(void 0,$e)));a.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(u.a,{store:tt,children:Object(n.jsx)(m.a,{children:Object(n.jsx)(Ge,{})})})}),document.getElementById("root")),Fe()}],[[84,1,2]]]);
//# sourceMappingURL=main.6263f263.chunk.js.map